<div class="bm-main-icon">
    <div class="bm-main-icon-container w-100 h-100 d-flex align-items-center" [ngClass]="{
        'flex-column': direction === 'vertical',
        'flex-row-reverse': direction !== 'vertical'
    }">
        <app-icon [icon]="buttonData.icon" class="svg-icon svg-icon-2x"
            *ngIf="buttonData.type !== ButtonMenuType.SIMPLE_SELECTION || 
            (buttonData.type === ButtonMenuType.SIMPLE_SELECTION && !buttonData.selected); else iconSelected"></app-icon>
        <ng-template #iconSelected>
            <app-icon *ngIf="!!buttonData.selected" [icon]="buttonData.selected.icon"
                class="svg-icon svg-icon-2x"></app-icon>
        </ng-template>
        <app-icon [icon]="direction === 'vertical' ? 'bottomArrow' : 'arrowLeft'" class="main-icon svg-icon svg-icon-1"
            *ngIf="!collapsed" (click)="collapse($event, 'click')"></app-icon>
    </div>
</div>

<div class="bm-collapse-wrapper" [ngClass]="{'ellapsed': !collapsed}">
    <div class="d-flex gap-3 bm-options align-items-center" [ngClass]="{
            'flex-row': direction === 'horizontal',
            'flex-column-reverse': direction === 'vertical'
        }" [ngStyle]="optionsStyle" #options (click)="$event.stopPropagation()">
        <div *ngFor="let item of buttonData.subOptions" (click)="action(item, $event)" class="bm-option"
            [class.active]="item.active"
            style="--nav-lat-position: {{position === 'left' || position === 'top' ? 1 : -1}}">
            <div class="bm-icon-wrapper">
                <app-icon [icon]="item.icon" class="svg-icon svg-icon-2x"></app-icon>
            </div>
            <div class="text" *ngIf="!!item.name">{{item.name}}</div>
        </div>
    </div>
</div>